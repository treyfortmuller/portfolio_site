<!DOCTYPE HTML>
<html>
	<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">

<title>Midair Hotswap</title>
<meta name="description" content="">

<link rel="apple-touch-icon" sizes="180x180" href="/assets/icon/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/assets/icon/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/assets/icon/favicon-16x16.png">
<link rel="manifest" href="/assets/icon/manifest.json">
<link rel="mask-icon" href="/assets/icon/safari-pinned-tab.svg" color="#5bbad5">
<link rel="shortcut icon" href="/assets/icon/favicon.ico">
<meta name="msapplication-config" content="/assets/icon/browserconfig.xml">
<meta name="theme-color" content="#ffffff">

<!-- CSS -->
<link rel="stylesheet" href="/assets/css/main.css">
<noscript><link rel="stylesheet" href="/assets/css/noscript.css"></noscript>

	</head>
	<body class="is-loading">

		<!-- Wrapper -->
			<div id="wrapper" class="fade-in">

				<!-- Header -->
        <header id="header">
          <a href="/" class="logo">Trey Fortmuller</a>
        </header>

				<!-- Nav -->
					<nav id="nav">

            <ul class="links">
  <li class=""><a href="/">Home</a></li>
  <li class=""><a href="/about/">About</a></li>
  <li class=" active "><a href="/projects/">Projects</a></li>
  <li class=""><a href="/resume/">Resume</a></li>
</ul>


						<ul class="icons">
              <li><a href="https://www.linkedin.com/in/trey-fortmuller" class="icon fa-linkedin" rel="nofollow"><span class="label">LinkedIn</span></a></li>
              <li><a href="https://github.com/treyfortmuller" class="icon fa-github" rel="nofollow"><span class="label">GitHub</span></a></li>
              <li><a href="https://facebook.com/trey.fortmuller" class="icon fa-facebook" rel="nofollow"><span class="label">Facebook</span></a></li>
            </ul>
					</nav>

				<!-- Main -->
				<div id="main">
          <section class="post">
    				<header class="major">
      				<span class="date">15 Jun 2017</span>
      				<h1>Midair Hotswap</h1>
      				<p>A mechatronics platform designed to autonomously swap a quadcopter's battery, without touching the ground.</p>
      			</header>
      			<div class="image main"><img src="/images/hotswap/main1.jpg" alt=""></div>
      			<p></p>
<h2 id="introduction">Introduction</h2>

<p>The Midair Hotswap is a project I did within the UAVs@Berkeley student organization campus at Cal which I now lead as President. I began this project at the start of my Sophomore year as a Team Lead. We started with about 12 people and over the course of the 3 semesters we worked on this project, we ended up with a team of 5 dedicated undergraduate engineering students who stuck it out till the bitter end. This project was incredibly rewarding to work on. Not only did my technical knowledge, prototyping intuition, and design methodology strengthen over the course of the 3 semesters, my understanding of how to work in a team grew enormously. From simple face to face communication on technical topics, to delegating tasks that play to the strengths of each team member, to maintaining a unified vision, and even keeping my team motivated and inspired to pursue this project, I couldn’t have asked for a better platform to grow as a future professional engineer. Enough philosophizing… what the hell is a “hotswap” anyway?</p>

<h2 id="motivation">Motivation</h2>

<p>In response to growing popularity in UAVs, drone manufacturers and developers are increasingly putting efforts into improving the performance and capabilities of their products. One of the most important metrics for multirotor performance is flight time, how long the vehicle can stay in the air before its battery dies. The longest flight time among consumer UAVs only reach up to half an hour. Researchers across the globe are seeking to improve battery chemistries and UAV flight efficiency. The Midair Hotswap project approaches this problem from another angle, replacing the battery of a drone with a new one, without touching the ground.</p>

<h2 id="project-description">Project Description</h2>

<p>The Midair Hotswap consists of two UAVs. One larger hexacopter and a smaller quadcopter. The small quadcopter lands on top of the larger hexacopter while both are hovering the air. Mechatronics on board the landing platform which rests on top of the hexacopter then swap out the battery of the quadcopter. The quadcopter can then take off again with a fully charged battery, having never landed on the ground and had its battery manually replaced.</p>

<p><span class="image main"><img src="/images/hotswap/full.png" alt=""></span></p>

<h3 id="subsystems">Subsystems</h3>

<div class="table-wrapper">
	<table>
		<tbody>
			<tr>
				<td nowrap><b>Quadcopter</b></td>
				<td>The target of our battery swap. Runs the Betaflight firmware on a Naze32 flight controller. 3D printed cones secure to the motor mounts and the battery slides into the underside of drone.</td>
			</tr>
			<tr>
				<td nowrap><b>The Hexacopter</b></td>
				<td>The large payload carrier which hovers our landing platform and swapping system. It runs iNavigation firmware on an SPF3 Mini flight controller and can autonomously loiter.</td>
			</tr>
			<tr>
				<td nowrap><b>Battery case and interface</b></td>
				<td>A hobbyist LiPo battery fits inside a case which exposes its power leads on flat copper plates. This case slides into the quadcopter interface which powers the drone from the battery via spring loaded contacts. The battery is locked inside the interface during quadcopter flight by an interference joint.</td>
			</tr>
			<tr>
				<td nowrap><b>Landing platform</b></td>
				<td>The laser cut wooden platform which rests on top of the hexacopter and the “megaphone” cones which guide the quadcopter into the correct position every time it lands.</td>
			</tr>
			<tr>
				<td nowrap><b>Linear slide rig</b></td>
				<td>Consisting of chrome rods, linear bearings, a stepper motor and battery carriage, this automated system carries out the battery swap. An Arduino controls the rig and endstop switches placed in the 3D printed mounts for the chrome rods allow us to calibrate the motion of the carriage before every swap.</td>
			</tr>
		</tbody>
	</table>
</div>

<h2 id="challenges">Challenges</h2>

<h4 id="battery-case-and-latch-mechanism">Battery case and latch mechanism</h4>

<p><span class="image right"><img src="/images/hotswap/batt.png" alt=""></span></p>

<p>The main challenge here was finding the right balance between simplicity (minimal motors) and the security of the locking mechanism during flight. We solved this with an interference joint on our battery case to lock it perfectly in place.</p>

<h4 id="swapping-mechanism">Swapping mechanism</h4>
<p>We use a linear sliding rail to push out the old battery case and simultaneously slide in a new one. This requires only one stepper motor and 2 limit switches for precision alignment. The automation of the swapping is handled by an Arduino Uno. One current limitation of the approach is not being able to perform more than one battery hotswap for a single flight of the hex. We considered many battery magazine approaches as well, but we decided this functionality is not necessary for the sake of simplicity.</p>

<h4 id="landing-guidance-system">Landing guidance system</h4>
<p>We initially designed an autonomous guidance system using OpenCV SURF Feature detection, but then transitioned to also support hardware guidance to allow for manual landing. The “megaphone” design allows for ease of landing.</p>

<h4 id="electronics">Electronics</h4>
<p>In order to facilitate a reliable battery connection, we used copper plates on the battery case as an interface to the battery itself. The battery interface on the quadcopter has 4 10-prong spring loaded contact pins for dynamically adjusting to the location and height of each copper plate on the battery case. These are then directly wired to the quad.</p>

<h2 id="design-approach">Design Approach</h2>
<p>The system was designed as a whole with a bottom up strategy in which each independent system (i.e. hex, quad, linear slider) was designed independently while maintaining an overall grasp on the the final goal. Components that largely interference with two or more subsystems were designed in the full assembly. The main goal of the project was a successful battery swap, which is mostly a mechatronics design problem. We found design inspiration for the critical mechanisms from plastic buckles to hair clips to leaf springs. Throughout the development process, constant attention was given to designing parts and systems that could utilize rapid prototyping techniques and facilities on campus. All CAD was done through Autodesk Fusion 360 using multiple assemblies to produce complex systems in order to ideate and develop unique solutions to the problems at hand. All parts that were fabricated with off the shelf parts were transferred by hand into Fusion to streamline the design process.</p>

<p><span class="image main"><img src="/images/hotswap/linear_slider.png" alt=""></span></p>

<h2 id="prototyping">Prototyping</h2>

<p><span class="image left"><img src="/images/hotswap/cases.jpg" alt=""></span></p>

<p>Iterating on each design was done through rapid prototyping techniques including 3D printing, laser cutting, and waterjet cutting. 3D printing was used throughout the build for custom parts with a more complex geometry. The vast majority of prints were completed on desktop FDM printers including Type As and Printrbots. The battery cases and interference joints required higher dimensional accuracy, those were printed from ABS on a Stratasys Fortus printer. Prototyping was the most tedious process involved in the project. 3D printing can be difficult to use, has inherent flaws, and publicly available desktop FDM machines on campus fail frequently. In general these machines were a huge asset to our project and the progress of our mechanical design.</p>

<h2 id="project-poster">Project Poster</h2>
<p>To finish off the project, the team and I wrote up this poster to hang in the UAV lab on campus, we’ll display the project to hopefully inspire future generations of UAVs@Berkeley students to try something ambitious.</p>

<p><span class="image main"><img src="/images/hotswap/poster.png" alt=""></span></p>

<h3 id="the-team">The Team</h3>

<p><span class="image main"><img src="/images/hotswap/team.jpg" alt=""></span></p>

<p>UAVs@Berkeley’s Fall 2017 Milestone 3 event, from left to right: Suneel, Connor, Dipo, Darius, and yours truly.</p>


      		</section>

					<!-- Footer -->
						<footer>
              <ul class="actions">
                <li><a href="/projects/" class="button">Projects</a></li>
              </ul>
						</footer>
					</div>

				<!-- Footer -->
        <footer id="footer">
  <section>
    <!-- Formspree form for adding a email form to the status site -->
    <form method="POST" action="https://formspree.io/tfortmuller@berkeley.edu">
      <div class="field">
        <label for="name">Name</label>
        <input type="text" name="name" id="name">
      </div>
      <div class="field">
        <label for="email">Email</label>
        <input type="text" name="email" id="email">
      </div>
      <div class="field">
        <label for="message">Message</label>
        <textarea name="message" id="message" rows="3"></textarea>
      </div>
      <ul class="actions">
        <li><input type="submit" value="Send Message"></li>
      </ul>
    </form>
  </section>

  <!-- Contact side section -->
  <section class="split contact">

    <!-- Location -->
    <section class="alt">
      <h3>Location</h3>
      <p>Berkeley, CA</p>
    </section>

    <!-- Connect -->
    <section>
      <h3>Connect</h3>
      <ul class="icons alt">
        <li><a href="https://www.linkedin.com/in/trey-fortmuller" class="icon fa-linkedin" rel="nofollow"><span class="label">LinkedIn</span></a></li>
        <li><a href="https://github.com/treyfortmuller" class="icon fa-github" rel="nofollow"><span class="label">GitHub</span></a></li>
        <li><a href="https://facebook.com/trey.fortmuller" class="icon fa-facebook" rel="nofollow"><span class="label">Facebook</span></a></li>
      </ul>
    </section>
    
  </section>
</footer>
<!-- Copyright bottom section -->
<div id="copyright">
  <ul>
      <li>© 
    2018 Trey Fortmuller </li>
      <li> Based on a Design by <a href="https://html5up.net">HTML5 UP</a>
</li>
    </ul>
</div>


			</div>

      <!-- Scripts -->
  		<!-- DYN -->
<script src="/assets/js/jquery.min.js"></script>
<script src="/assets/js/jquery.scrollex.min.js"></script>
<script src="/assets/js/jquery.scrolly.min.js"></script>
<script src="/assets/js/skel.min.js"></script>
<script src="/assets/js/util.js"></script>
<script src="/assets/js/main.js"></script>

			<script async src="https://www.googletagmanager.com/gtag/js?id=UA-111812042-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments)};
  gtag('js', new Date());

  gtag('config', 'UA-111812042-1');
</script>


	</body>
</html>
